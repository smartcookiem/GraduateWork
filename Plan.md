# План автоматизации тестирования
## Перечень автоматизируемых сценариев:
### Исходные данные:
- валидный номер карты - 4444 4444 4444 4441;
- не валидный номер карты - 4444 4444 4444 4442.
 
### Позитивные тестовые сценарии:

1. **Оплата картой:**
   
    1.1. Открыть [страницу](https://localhost:8080/).
   
    1.2. Нажать кнопку "Купить" (оплата картой).
   
    1.3. В доступных полях ввести валидные данные:
    - номер карты "4444 4444 4444 4441"; 
    - месяц не ранее текущего, год не ранее текущего;
    - фамилия, имя владельца на английском языке через пробел ;
    - CVC/CVV в формате трёхзначного числа.
      
    1.4. Нажать кнопку "Продолжить".
   
        Ожидаемый результат:
        - данные успешно отправлены и доступны для просмотра в базе данных;
        - всплывающее окно, о том, что операция одобрена банком.

2. **Оплата в кредит:**

    2.1. Открыть [страницу](https://localhost:8080/).

    2.2. Нажать кнопку "Купить в кредит".

    2.3. В доступных полях ввести валидные данные:
    - номер карты "4444 4444 4444 4441"; 
    - месяц не ранее текущего, год не ранее текущего;
    - фамилия, имя владельца на английском языке через пробел ;
    - CVC/CVV в формате трёхзначного числа.
    
    2.4. Нажать кнопку "Продолжить". 
 
        Ожидаемый результат:
        - данные успешно отправлены и доступны для просмотра в базе данных;
        - всплывающее окно, о том, что операция одобрена банком.

### Негативные тестовые сценарии:

1. **Незаполненная форма:**
   
    1.1. Открыть [страницу](https://localhost:8080/).
   
    1.2. Нажать кнопку "Купить" (оплата картой).
   
    1.3. Нажать кнопку "Продолжить".
   
        Ожидаемый результат:
        - данные не отправлены;
        - сообщение `Неверный формат` под полем "Номер карты";
        - сообщение `Неверный формат` под полем "Месяц";
        - сообщение `Неверный формат` под полем "Год";
        - сообщение `Поле обязательно для заполнения`под полем "Владелец";
        - сообщение `Неверный формат` под полем "CVC/CVV".

2. **Незаполненное поле "Номер карты"/неверный ввод данных в поле "Номер карты":**
   
    2.1.1. Открыть [страницу](https://localhost:8080/).
   
    2.1.2. Нажать кнопку "Купить" (оплата картой).
   
    2.1.3. В поле "Номер карты" **ввести не валидный номер карты** (4444 4444 4444 4442), остальные поля заполнить валидными данными.
   
    2.1.4. Нажать кнопку "Продолжить";
   
        Ожидаемый результат:
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
        - появится всплывающее окно об отказе в проведении операции банком.
        
    2.2.1. Открыть [страницу](https://localhost:8080/).
   
    2.2.2. Нажать кнопку "Купить" (оплата картой).
   
    2.2.3. Поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными.
   
    2.2.4. Нажать кнопку "Продолжить".
   
        Ожидаемый результат:
        - данные не отправлены;
        - сообщение `Неверный формат` под полем "Номер карты".

    2.3.1. Открыть [страницу](https://localhost:8080/).
   
    2.3.2. Нажать кнопку "Купить" (оплата картой).
   
    2.3.3. В поле "Номер карты" **ввести не полный номер карты** (4444 4444 4444 444), остальные поля заполнить валидными данными.
   
    2.3.4. Нажать кнопку "Продолжить";
   
        Ожидаемый результат:
        - данные не отправлены;
        - сообщение `Неверный формат` под полем "Номер карты".
       
3. **Поле "Месяц":**
   
    3.1.1. Открыть [страницу](https://localhost:8080/).
   
    3.1.2. Нажать кнопку "Купить" (оплата картой).
   
    3.1.3. Поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными.
   
    3.1.4. Нажать кнопку "Продолжить".
   
        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Месяц" сообщение `Неверный формат`.

    3.2.1. Открыть [страницу](https://localhost:8080/). 

    3.2.2. Нажать кнопку "Купить" (оплата картой).

    3.2.3. В поле "Месяц" **ввести не валидный месяц** (нижнее граничное значение 00), остальные поля заполнить валидными данными.  

    3.2.4. Нажать кнопку "Продолжить";

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Месяц" сообщение `Неверно указан срок действия карты`.

    3.3.1. Открыть [страницу](https://localhost:8080/). 

    3.3.2. Нажать кнопку "Купить" (оплата картой).

    3.3.3. В поле "Месяц" **ввести не валидный месяц** (текущий месяц -1, и текущий год), остальные поля заполнить валидными данными.  

    3.3.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Месяц" сообщение `Неверно указан срок действия карты`.

    3.4.1. Открыть [страницу](https://localhost:8080/). 

    3.4.2. Нажать кнопку "Купить" (оплата картой).

    3.4.3. В поле "Месяц" ** ввести не валидный месяц** (верхнее граничное 13), остальные поля заполнить валидными данными.  

    3.4.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Месяц" сообщение `Неверно указан срок действия карты`.

4. **Поле "Год":**

    4.1.1. Открыть [страницу](https://localhost:8080/). 

    4.1.2. Нажать кнопку "Купить" (оплата картой).

    4.1.3. Поле "Год" **оставить пустым**, остальные поля заполнить валидными данными

    4.1.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Год" сообщение `Неверный формат`.

    4.2.1. Открыть [страницу](https://localhost:8080/). 

    4.2.2. Нажать кнопку "Купить" (оплата картой).

    4.2.3. в поле "Год" **ввести не валидный год** (текущий год - 1), остальные поля заполнить валидными данными.  

    4.2.4. Нажать кнопку "Продолжить";

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Год" сообщение `Истек срок действия карты`.

    4.3.1. Открыть [страницу](https://localhost:8080/). 

    4.3.2. Нажать кнопку "Купить" (оплата картой).

    4.3.3. В поле "Год" **ввести не валидный год** (текущий год + 6), остальные поля заполнить валидными данными.  

    4.3.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Год" сообщение `Неверно указан срок действия карты`.

5. **Поле "Владелец":**

    5.1.1. Открыть [страницу](https://localhost:8080/). 

    5.1.2. Нажать кнопку "Купить" (оплата картой).

    5.1.3. Поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными.  

    5.1.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Владелец" сообщение `Поле обязательно для заполнения`.

    5.2.1. Открыть [страницу](https://localhost:8080/). 

    5.2.2. Нажать кнопку "Купить" (оплата картой).

    5.2.3. В поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными.  

    5.2.4. Нажать кнопку "Продолжить";

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Владелец" сообщение `Поле обязательно для заполнения`.

    5.3.1. Открыть [страницу](https://localhost:8080/). 

    5.3.2. Нажать кнопку "Купить" (оплата картой).

    5.3.3. В поле "Владелец" **ввести $#@** (любые спецсимволы), остальные поля заполнить 
валидными данными.

    5.3.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Владелец" сообщение `Неверный формат имени владельца`.

    5.4.1. Открыть [страницу](https://localhost:8080/). 

    5.4.2. Нажать кнопку "Купить" (оплата картой).

    5.4.3. В поле "Владелец" **ввести двузначное число ** (от 10 до 99), остальные поля заполнить валидными данными.  

    5.4.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Владелец" сообщение `Неверный формат имени владельца`.
    
6. **Поле "CVC/CVV":**

    6.1.1. Открыть [страницу](https://localhost:8080/). 

    6.1.2. Нажать кнопку "Купить" (оплата картой).

    6.1.3. Поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными.  

    6.1.4. Нажать кнопку "Продолжить".

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "CVC/CVV" сообщение `Неверный формат`.

    6.2.1. Открыть [страницу](https://localhost:8080/). 

    6.2.2. Нажать кнопку "Купить" (оплата картой).

    6.2.3. В поле "CVC/CVV" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными.  

    6.2.4. Нажать кнопку "Продолжить";

        Ожидаемый результат:
        - данные не отправлены;
        - под полем "Владелец" сообщение `Неверный формат`.

        
    **Для покупки в кредит используем негативные сценарии указанные выше**

## Перечень используемых инструментов с обоснованием выбора:
- IntelliJ IDEA JDK 11, для написания автотестов на Java;
- JUnit Jupiter 5, основа для тестов;
- Gradle, инструмент управления зависимостями;
- Selenide, для работы с браузером при написании автотестов;
- MySQL connector Java, PostgreSQL и Commons DBUtils, для доступа к базе данным из кода авто-тестов;
- Project Lombok, для упрощения написания кода;
- Faker, для генерации данных при заполнении форм;
- GitHub, в качестве удаленного репозитория;
- Allure, для создания отчетов о выполнении авто-тестов;
 
## Перечень и описание возможных рисков при автоматизации:
- Т.к. поддержка двух СУБД, возможны ошибки при запуске SUT;
- Отсутствие документации и спецификаций на приложение;
- Сложность поддержки автотестов, так как изменение веб-элементов приведет к падению авто-тестов;
- Нет тестирования пользовательского интерфейса, верстки и т.д.
## Интервальная оценка с учётом рисков в часах:
- 102 ч.
## План сдачи работ:
1. Написание автотестов до 27 августа 2023;
2. Предоставление отчетов до 28 августа 2023:
- Подготовка к проведению тестирования (настройка и запуск SUT, подготовка плана автоматизации) - 12 часов;
- Написание и запуск авто-тестов - 82 часа;
- Оформление отчётов о дефектах - 12 часов;
- Оформление отчёта по итогам тестирования - 10 часов;
- Оформление отчёта по итогам автоматизации - 12 часов.

