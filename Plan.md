# План автоматизации тестирования
## Перечень автоматизируемых сценариев:
### Используемые данные:
- валидные данные:
    - номер карты - 4444 4444 4444 4441;
    - месяц, год  - месяц не ранее текущего, год не ранее текущего;
    - фамилия, имя владельца на английском языке через пробел;
    - CVC/CVV в формате трёхзначного числа.
- не валидные данные:
    - номер карты - 4444 4444 4444 4442, 4444 4444 4444 444;
    - месяц - нижнее граничное значение 00, текущий месяц -1, и текущий год,верхнее граничное 13;
    - год - текущий год - 1, текущий год + 6;
    - владелец - спецсимволы $#@, двузначное число (от 10 до 99);
    - CVC/CVV - двузначное число (от 10 до 99);
    - а также пустые поля и пробелы.
 
### Позитивные тестовые сценарии:

1. **Оплата картой с валидными данными:**
   1. Открыть [страницу](https://localhost:8080/).
   2. Нажать кнопку "Купить" (оплата картой).
   3. В доступных полях ввести валидные данные.
   4. Нажать кнопку "Продолжить".
   
   Ожидаемый результат:
   - данные успешно отправлены и доступны для просмотра в базе данных;
   - всплывающее окно, о том, что операция одобрена банком.

1. **Оплата в кредит с валидными данными:**

   1. Открыть [страницу](https://localhost:8080/).
   2. Нажать кнопку "Купить в кредит".
   3. В доступных полях ввести валидные данные:   
   4. Нажать кнопку "Продолжить". 
 
    Ожидаемый результат:
    - данные успешно отправлены и доступны для просмотра в базе данных;
    - всплывающее окно, о том, что операция одобрена банком.

### Негативные тестовые сценарии:

1. **Отправка незаполненной формы:**
   
    1. Открыть [страницу](https://localhost:8080/).
    2. Нажать кнопку "Купить" (оплата картой).
    3. Нажать кнопку "Продолжить".
   
    Ожидаемый результат:
    - данные не отправлены;
    - сообщение `Неверный формат` под полем "Номер карты";
    - сообщение `Неверный формат` под полем "Месяц";
    - сообщение `Неверный формат` под полем "Год";
    - сообщение `Поле обязательно для заполнения`под полем "Владелец";
    - сообщение `Неверный формат` под полем "CVC/CVV".

2. **Поле "Номер карты":**
   
   2.1. **Оплата картой с невалидным номером:**

    1. Открыть [страницу](https://localhost:8080/).
    2. Нажать кнопку "Купить" (оплата картой).
    3. В поле "Номер карты" **ввести не валидный номер карты**, остальные поля заполнить валидными данными.
    4. Нажать кнопку "Продолжить";
   
    Ожидаемый результат:
    - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
    - появится всплывающее окно об отказе в проведении операции банком.
        
   2.2. **Оплата без ввода номера карты**
   
    1. Открыть [страницу](https://localhost:8080/).
    2. Нажать кнопку "Купить" (оплата картой).
    3. Поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными.
    4. Нажать кнопку "Продолжить".
   
    Ожидаемый результат:
    - данные не отправлены;
    - сообщение `Неверный формат` под полем "Номер карты".

    2.3. **Оплата с не полным номером карты**
   
    1. Открыть [страницу](https://localhost:8080/).
    2. Нажать кнопку "Купить" (оплата картой).
    3. В поле "Номер карты" **ввести не полный номер карты**, остальные поля заполнить валидными данными.
    4. Нажать кнопку "Продолжить";
   
    Ожидаемый результат:
    - данные не отправлены;
    - сообщение `Неверный формат` под полем "Номер карты".
       
3. **Поле "Месяц":**

   3.1. **Оплата картой без ввода месяца:**
   
    1. Открыть [страницу](https://localhost:8080/).
  
    2. Нажать кнопку "Купить" (оплата картой).
   
    3. Поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными.
   
    4. Нажать кнопку "Продолжить".
   
    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Месяц" сообщение `Неверный формат`.

   3.2. **Оплата картой с вводом месяца нижней границы значения:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Месяц" **ввести не валидный месяц**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить";

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Месяц" сообщение `Неверно указан срок действия карты`.

   3.3. **Оплата картой с вводом текущий месяц -1, и текущий год:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Месяц" **ввести не валидный месяц**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Месяц" сообщение `Неверно указан срок действия карты`.
  
   3.4. **Оплата картой с вводом месяца верхней границы значения:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Месяц" **ввести не валидный месяц**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Месяц" сообщение `Неверно указан срок действия карты`.

4. **Поле "Год":**

   4.1. **Оплата картой без ввода года:**
   
    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. Поле "Год" **оставить пустым**, остальные поля заполнить валидными данными

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Год" сообщение `Неверный формат`.

   4.2. **Оплата картой с вводом предыдущего года:**
   
    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. в поле "Год" **ввести не валидный год**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить";

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Год" сообщение `Истек срок действия карты`.

   4.3. **Оплата картой с вводом будущего года:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Год" **ввести не валидный год**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Год" сообщение `Неверно указан срок действия карты`.

5. **Поле "Владелец":**

   5.1. **Оплата картой без ввода года:**
   
    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. Поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Владелец" сообщение `Поле обязательно для заполнения`.

   5.2. **Оплата картой с вводом в поле "Владелец" пробела:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить";

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Владелец" сообщение `Поле обязательно для заполнения`.

   5.3. **Оплата картой с вводом в поле "Владелец" спецсимволов:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Владелец" **ввести спецсимволы**, остальные поля заполнить 
валидными данными.

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Владелец" сообщение `Неверный формат имени владельца`.

   5.4. **Оплата картой с вводом в поле "Владелец" двузначного числа:**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. В поле "Владелец" **ввести двузначное число**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Владелец" сообщение `Неверный формат имени владельца`.
    
6. **Поле "CVC/CVV":**

   6.1. **Оплата картой без ввода "CVC/CVV":**

    1. Открыть [страницу](https://localhost:8080/). 

    2. Нажать кнопку "Купить" (оплата картой).

    3. Поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными.  

    4. Нажать кнопку "Продолжить".

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "CVC/CVV" сообщение `Неверный формат`.

   6.1. **Оплата картой с вводом двузначного "CVC/CVV":**

    6.2.1. Открыть [страницу](https://localhost:8080/). 

    6.2.2. Нажать кнопку "Купить" (оплата картой).

    6.2.3. В поле "CVC/CVV" **ввести двузначное число**, остальные поля заполнить валидными данными.  

    6.2.4. Нажать кнопку "Продолжить";

    Ожидаемый результат:
    - данные не отправлены;
    - под полем "Владелец" сообщение `Неверный формат`.

        
    **Для покупки в кредит используем негативные сценарии указанные выше**

## Перечень используемых инструментов с обоснованием выбора:
- IntelliJ IDEA JDK 11, для написания автотестов на Java;
- JUnit Jupiter 5, основа для тестов;
- Gradle, инструмент управления зависимостями;
- Selenide, для работы с браузером при написании автотестов;
- MySQL connector Java, PostgreSQL и Commons DBUtils, для доступа к базе данным из кода авто-тестов;
- Project Lombok, для упрощения написания кода;
- Faker, для генерации данных при заполнении форм;
- GitHub, в качестве удаленного репозитория;
- Allure, для создания отчетов о выполнении авто-тестов;
 
## Перечень и описание возможных рисков при автоматизации:
- Т.к. поддержка двух СУБД, возможны ошибки при запуске SUT;
- Отсутствие документации и спецификаций на приложение;
- Сложность поддержки автотестов, так как изменение веб-элементов приведет к падению авто-тестов;
- Нет тестирования пользовательского интерфейса, верстки и т.д.
## Интервальная оценка с учётом рисков в часах:
- 102 ч.
## План сдачи работ:
1. Написание автотестов до 27 августа 2023;
2. Предоставление отчетов до 28 августа 2023:
- Подготовка к проведению тестирования (настройка и запуск SUT, подготовка плана автоматизации) - 12 часов;
- Написание и запуск авто-тестов - 82 часа;
- Оформление отчётов о дефектах - 12 часов;
- Оформление отчёта по итогам тестирования - 10 часов;
- Оформление отчёта по итогам автоматизации - 12 часов.

